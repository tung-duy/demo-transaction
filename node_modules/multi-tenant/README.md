# Multi tenant with mongoose

[![npm version](https://badge.fury.io/js/multi-tenant.svg)](https://badge.fury.io/js/multi-tenant)

<p align="center">
  <img width="460" height="300" src="https://dev.fpt.work/images/FTI/15c12a77-2b45-4057-bb0a-aa07fb1d8a29.svg">
</p>

---

## Installation

- This is a [Node.js](https://nodejs.org/en/) module available through the [npm](https://www.npmjs.com/package/multi-tenant)
- Before installing, [download and install Node.js](https://nodejs.org/en/download/).
  Node.js 14 or higher is required.

- Installation is done using the
  [`npm install` command](https://docs.npmjs.com/getting-started/installing-npm-packages-locally):

**Using npm:**

```sh
# Install package with npm

$  npm install multi-tenant
```

**Using yarn:**

```sh
# Install package with yarn

$ yarn add multi-tenant
```

---

<!-- ## Example -->

## Import module

**ES5**

```sh

const multiTenant = require('multi-tenant');
multiTenant.connectionDb();

#Or

const { connectionDb } = require('multi-tenant');
connectionDb();

```

**ES6**

```sh

import * as multiTenant from 'multi-tenant';
multiTenant.connectionDb();

#Or

import { connectionDb } from 'multi-tenant';
connectionDb();

```

## Get Model

Inside the function that handles the logic where to connect to the database. Usually in controller, service files or anywhere you want to use.
Let's use `getModelByTenant` function to call Model.

```sh

import { getModelByTenant } from 'multi-tenant';

const User = await getModelByTenant({ name: 'ModelName' });

```

---

## API Documentation

`getModelByTenant` function expose following api:
`connectionDb(options)`
The exported `connectionDb` function a data object one optional argument.

###### connectionDb(Object):

Default: `{ path }`

- `path` argument is path to the directory where the `Model` is stored
  Value default of path is.
- Default value of `path` argument is `path.resolve(process.cwd(), 'models')`. This is the path to the Model folder located at the root of the project.
- If you have a different directory map architecture, use this parameter as an option. You can completely customize this input parameter.

## Authors and acknowledgment

- Project manager: `tungduy.dev@gmail.com`

## Support

Reach out to me at one of the following places!

<!-- - Website at https://fbeta.tech -->

- Email: tungduy.dev@gmail.com
- Phone: 0358001357

## License

Copyright © 2020 FPT VPN. Crafted with :heart: by [Tùng Duy]() - tungduy.dev@gmail.com.
Released under the [MIT License](LICENSE).

---

This file was generated by [Tùng Duy](), v1.1.0, on Sept 23, 2021.
